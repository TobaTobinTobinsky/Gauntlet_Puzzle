ğŸ›ï¸ DOCUMENTO DE ARQUITECTURA TÃ‰CNICA (DÃA 1)
Objetivo: Establecer una estructura de proyecto escalable y un entorno de pruebas (Sandbox) funcional para validar las mecÃ¡nicas de movimiento e interacciÃ³n.
1. ÃRBOL DE DIRECTORIOS (Content Browser)
FilosofÃ­a: Mantener todo nuestro trabajo dentro de una carpeta raÃ­z (_Game) para diferenciarlo de plugins, Starter Content o assets comprados.
Crea esta estructura exacta en tu Content Browser:
ğŸ“‚ _Game (Carpeta RaÃ­z - El guion bajo la mantiene arriba)
ğŸ“‚ Blueprints
ğŸ“‚ Core (AquÃ­ irÃ¡n: GM_Gauntlet, PC_PlayerController)
ğŸ“‚ Characters (AquÃ­ irÃ¡: BP_Hero)
ğŸ“‚ Interactables (AquÃ­ irÃ¡ el Cubo/Cartel)


ğŸ“‚ Maps
(AquÃ­ guardaremos el nivel de prueba)


ğŸ“‚ UI
(AquÃ­ irÃ¡ el Widget del cartel)


ğŸ“‚ Input
ğŸ“‚ Actions (IA_Move, IA_Interact)
ğŸ“‚ Mappings (IMC_Default)


ğŸ“‚ Art (VacÃ­a por ahora, para el DÃ­a 5)
ğŸ“‚ Materials
ğŸ“‚ Meshes


ğŸ“‚ Audio (VacÃ­a por ahora, para el DÃ­a 6)
2. SETUP DEL NIVEL DE PRUEBAS (Sandbox)
Objetivo: Crear un espacio limpio donde el rendimiento sea mÃ¡ximo y no haya distracciones visuales.
Instrucciones de CreaciÃ³n:
Nuevo Nivel: Crea un nivel tipo "Basic" (File > New Level > Basic).
Por quÃ©: Ya trae la iluminaciÃ³n esencial (Directional Light + Sky Atmosphere) para que no se vea todo negro en el video entregable.


Suelo:
Borra el suelo pequeÃ±o que trae por defecto.
Usa el Modo Landscape para crear un terreno plano simple (63x63 quads es suficiente).
RazÃ³n: Es mÃ¡s fÃ¡cil probar distancias en un terreno amplio que en un cubo pequeÃ±o.


Player Start:
Coloca un actor PlayerStart en el centro del mapa (Coordenadas 0,0,100).
Esto asegura que el juego sepa dÃ³nde nace el jugador.


Guardado:
Guarda el mapa en _Game/Maps/ con el nombre L_Sandbox_01.
3. CONFIGURACIÃ“N DEL "CORE" (GameMode)
Vital para cumplir la regla: "El personaje debe moverse".
En _Game/Blueprints/Core, crea un GameMode Base llamado GM_Gauntlet.
En los World Settings del mapa L_Sandbox_01, asigna este GM_Gauntlet como el GameMode Override.
(VerificaciÃ³n): AsegÃºrate de que en "Default Pawn Class" estÃ© seleccionado tu personaje (si usas el de tercera persona de la plantilla, selecciona BP_ThirdPersonCharacter).
4. EL PERSONAJE
El personaje podrÃ­a ser el propio BP_FirstPersonCharacter pero por cuestiones de seguridad se optÃ³ por crear un hijo del mismo y colocarlo en el directorio Game\Blueprints\Characters\ y llamarlo BP_PuzzleHero
5. EL OBJETO DE REFERENCIA (El "Dummy")
Objetivo: Tener un objeto fÃ­sico que justifique el movimiento del jugador hacia Ã©l.
PASO 1: CreaciÃ³n del Componente Widget
En _Game/Blueprints/Interactables, crea un Actor llamado BP_DummyInteract.
ComposiciÃ³n:
Crear un Cubo simple: Con este cubo simulamos la estatua.
Crea un Widget Component: Este serÃ¡ el mensaje a mostrar en la pantalla del jugador.
Coloca este actor frente al Player Start (a unos 5 metros de distancia).
PASO 2: ConfiguraciÃ³n del Componente Widget
Con el componente Widget seleccionado en tu Actor, ve al panel de Details (derecha) y busca la secciÃ³n User Interface.
Tienes que cambiar estas 3 opciones SÃ o SÃ para que se vea bien:
Space: CÃ¡mbialo de World a Screen.
Por quÃ©: Si lo dejamos en World, es un cartel 3D plano que se hace pequeÃ±o si te alejas. En Screen, siempre mira a la cÃ¡mara y mantiene el tamaÃ±o legible (como las etiquetas de los nombres en los juegos RPG).
Draw at Desired Size: MÃ¡rcalo TRUE (âœ…).
Por quÃ©: Si no lo marcamos, Unreal intentarÃ¡ dibujar un canvas gigante. Al marcarlo, se ajusta automÃ¡ticamente al tamaÃ±o de tu texto.
Widget Class: AquÃ­ se ve (por el momento) que dice "None".
Problema: Tenemos el "marco" (el componente), pero no la "foto" (el diseÃ±o del cartel).
SoluciÃ³n: Necesitamos crear un Widget Blueprint rÃ¡pido para poner ahÃ­.
PASO 3: Crear el DiseÃ±o del Cartel (RÃ¡pido)
Dejamos el Actor abierto un segundo y volvemos al Content Browser.
En la carpeta _Game/UI, Clic derecho > User Interface > Widget Blueprint.
En la ventana que sale, seleccionamos el botÃ³n "User Widget".
Nombre: WBP_InfoLabel.
Dentro del editor de UI:
Busca un Text en la paleta (izquierda) y arrÃ¡stralo al centro.
En el texto escribe: [E] Interactuar.
(Opcional rÃ¡pido) Ponle un Outline (borde) negro de grosor 2 en los detalles para que se lea mejor sobre el fondo 3D.
Compilar y Guardar.
PASO 4: Conectar todo
Volvemos al Actor (BP_DummyInteract).
Seleccionamos otra vez el componente Widget.
En Widget Class, ahora buscamos y podemos seleccionar el WBP_InfoLabel que acabamos de crear.
PASO 5: Crear el Sensor (Sphere Collision)
Necesitamos un volumen invisible que detecte al jugador.
En la pestaÃ±a Viewport de BP_DummyInteract aÃ±ade un componente nuevo: Sphere Collision.
Ajuste de TamaÃ±o: En el panel Details > Shape, aumenta el Sphere Radius a 100.0 (o hasta que veas que la lÃ­nea amarilla es cÃ³modamente mÃ¡s grande que el cubo).
CONFIGURACIÃ“N CRÃTICA (Collision Presets):
Busca la secciÃ³n Collision.
En Collision Presets, cambia lo que haya por Trigger.
Por quÃ©: Si lo dejamos en "BlockAll", el jugador chocarÃ¡ contra una pared invisible. "Trigger" permite atravesarla y solo avisa "Hey, alguien entrÃ³".
PASO 6: Ocultar el Cartel por defecto
El estado inicial debe ser "apagado".
En el componente Widget seleccionamos el panel Details, buscamos la secciÃ³n Rendering.
Buscamos la opciÃ³n â€œVisibleâ€: Desmarca la casilla (âŒ).
Ahora el cartel deberÃ­a desaparecer del Viewport.
PASO 7: Programar la LÃ³gica (Event Graph)
Ahora vamos a conectar los cables: "Si entras -> Muestra. Si sales -> Oculta."
En la pestaÃ±a Event Graph seleccionamos el componente Sphere en la lista de la izquierda.
En el panel Details (abajo del todo), pulsamos el botÃ³n + verde en:
On Component Begin Overlap
On Component End Overlap
Ahora conectamos los nodos asÃ­:
A) Para mostrar (Begin Overlap):
Desde el pin Other Actor (del nodo rojo), arrastramos y buscamos Cast to BP_FirstPerson (Esto es para que una caja fÃ­sica que ruede por ahÃ­ no active el cartel, solo el jugador).
Del pin de Ã©xito del Cast (As Character...), conectamos a un nodo Set Visibility.
Target del Set Visibility: Arrastramos el componente Widget al grafo y conectamos al Target.
New Visibility: Marcamos la casilla (âœ…).
B) Para ocultar (End Overlap):
Este es el mismo procedimiento: Desde Other Actor -> Cast to Character.
Del Ã©xito -> Set Visibility.
Target: componente Widget.
New Visibility: Dejamos la casilla desmarcada (âŒ).
ğŸ§ª PRUEBA FINAL
Compilar y Guardar.
Arrastramos el Actor al nivel.
Damos Play.
Ahora deberÃ­amos poder alejarnos y acercarnos, y el cartel de [E] Interactuar al acercarnos al cubo deberÃ­a aparecer y desaparecer.
âœ… CHECKLIST FINAL DEL DÃA 1 (Para el Juez)
Antes de cerrar por hoy y grabar el video, verificamos esto:
Estructura: Â¿Tengo mi carpeta _Game limpia y ordenada?
Repositorio: Â¿He hecho Commit y Push de estas carpetas nuevas?
Playtest: Al dar "Play":
Â¿Nazco en el PlayerStart?
Â¿Puedo caminar con WASD hacia el cubo?
Â¿Veo el cartel de "E - Interactuar" sobre el cubo?
Â¿El juego corre fluido?